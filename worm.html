<!DOCTYPE html>
<html>
<head>
  <style>
    #game-container {
      position: relative;
      width: 600px;
      height: 600px;
      background-image: url('Images/background.gif');
        background-repeat: repeat;
      background-color: #000000;
      border: 1px solid rgb(255, 0, 0);
      overflow: hidden;
    }
    body {
    background-image: url('Images/background.gif');
    background-repeat: repeat;
  }

    .game-object {
      position: absolute;
    }
  </style>
</head>
<body>
  <div id="game-container">
    <img id="comet" class="game-object" src="images/comet.gif" alt="comet" style="width: 50px; height: 50px;">
  </div>
  

  <script>
    const gameContainer = document.getElementById('game-container');
    const comet = document.getElementById('comet');
    const tileSize = 50;
    const speed = 150;
    const snake = [{x: 0, y: 0}];
    let dx = tileSize;
    let dy = 0;

    const createSnakePart = (x, y) => {
  const snakePart = document.createElement('div');
  snakePart.style.width = tileSize + 'px';
  snakePart.style.height = tileSize + 'px';
  snakePart.style.left = x + 'px';
  snakePart.style.top = y + 'px';
  snakePart.style.backgroundColor = 'purple';
  snakePart.classList.add('game-object');
  return snakePart;
};

    const updateCometPosition = () => {
      const containerSize = gameContainer.offsetWidth;
      const x = Math.floor(Math.random() * (containerSize / tileSize)) * tileSize;
      const y = Math.floor(Math.random() * (containerSize / tileSize)) * tileSize;
      comet.style.left = x + 'px';
      comet.style.top = y + 'px';
    };



    const moveSnake = () => {
      const headX = snake[0].x + dx;
      const headY = snake[0].y + dy;

      if (headX < 0 || headX >= gameContainer.offsetWidth || headY < 0 || headY >= gameContainer.offsetHeight) {
        clearInterval(gameInterval);
        alert('Game Over!');
        return;
      }

      if (headX === parseInt(comet.style.left) && headY === parseInt(comet.style.top)) {
        snake.push({x: headX - dx, y: headY - dy});
        updateCometPosition();
      }

      for (let i = snake.length - 1; i > 0; i--) {
        snake[i].x = snake[i - 1].x;
        snake[i].y = snake[i - 1].y;
      }

      snake[0].x = headX;
      snake[0].y = headY;

      gameContainer.innerHTML = '';
      gameContainer.appendChild(comet);

      for (const part of snake) {
        const snakePart = createSnakePart(part.x, part.y);
        gameContainer.appendChild(snakePart);
      }
    };

    document.addEventListener('keydown', function(event) {
      if (event.key === 'ArrowUp' && dy === 0) {
        dx = 0;
        dy = -tileSize;
      } else if (event.key === 'ArrowDown' && dy === 0) {
        dx = 0;
        dy = tileSize;
      } else if (event.key === 'ArrowLeft' && dx === 0) {
        dx = -tileSize;
        dy = 0;
      } else if (event.key === 'ArrowRight' && dx === 0) {
        dx = tileSize;
        dy = 0;
      }
    });

    const initializeGame = () => {
      updateCometPosition();
      gameInterval = setInterval(moveSnake, speed);
    };

    let gameInterval;
    initializeGame();
  </script>
</body>
</html>
